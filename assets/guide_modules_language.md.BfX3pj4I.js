import{_ as e,c as a,o as l,ak as i}from"./chunks/framework.kzYtkWm7.js";const k=JSON.parse('{"title":"数据字典模块","description":"","frontmatter":{},"headers":[],"relativePath":"guide/modules/language.md","filePath":"guide/modules/language.md","lastUpdated":1739802627000}'),s={name:"guide/modules/language.md"};function n(d,t,r,g,p,h){return l(),a("div",null,t[0]||(t[0]=[i(`<h1 id="数据字典模块" tabindex="-1">数据字典模块 <a class="header-anchor" href="#数据字典模块" aria-label="Permalink to &quot;数据字典模块&quot;">​</a></h1><div class="info custom-block"><p class="custom-block-title">LanguageManagement</p><ul><li>支持动态新增和修改多语言(这个多语言是针对后端的)。 <ul><li>前后端的多语言是分开的，前端的多语言比如按钮的多语言是在前端定义的/locales文件夹下</li></ul></li><li>当前模块在生成项目的时候<strong>默认会集成</strong></li></ul></div><ul><li><a href="https://github.com/WangJunZzz/abp-vnext-pro/tree/main/aspnet-core/modules/LanguageManagement" target="_blank" rel="noreferrer">Github仓库地址</a></li><li><a href="https://gitee.com/WangJunZzz/abp-vnext-pro/tree/main/aspnet-core/modules/LanguageManagement" target="_blank" rel="noreferrer">Gitee仓库地址</a></li></ul><h2 id="如何集成" tabindex="-1">如何集成 <a class="header-anchor" href="#如何集成" aria-label="Permalink to &quot;如何集成&quot;">​</a></h2><ul><li>在对应的层添加对应的引用</li><li>添加 DependsOn(typeof(LanguageManagementXxxModule)) 特性到对应模块 <ul><li>Lion.AbpPro.LanguageManagement.Application</li><li>Lion.AbpPro.LanguageManagement.Application.Contracts</li><li>Lion.AbpPro.LanguageManagement.Domain</li><li>Lion.AbpPro.LanguageManagement.Domain.Shared</li><li>Lion.AbpPro.LanguageManagement.EntityFrameworkCore</li><li>Lion.AbpPro.LanguageManagement.HttpApi</li><li>Lion.AbpPro.LanguageManagement.HttpApi.Client</li></ul></li><li>在自己的dbcontext中实现接口：ILanguageManagementDbContext</li><li>在 EntityFrameworkCore 层添加数据库配置在 AbpProDbContext.cs 的 OnModelCreating()方法中添加 builder.ConfigureLanguageManagement();</li></ul><h2 id="如何配置单独数据库" tabindex="-1">如何配置单独数据库 <a class="header-anchor" href="#如何配置单独数据库" aria-label="Permalink to &quot;如何配置单独数据库&quot;">​</a></h2><ul><li>数据库连接名称：LanguageManagement</li><li>在appsetting.json下配置</li></ul><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;ConnectionStrings&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;Default&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Data Source=localhost;Database=LionAbpProDB;uid=root;pwd=mypassword;charset=utf8mb4;Allow User Variables=true;AllowLoadLocalInfile=true&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;LanguageManagement&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Data Source=localhost;Database=LanguageManagement;uid=root;pwd=mypassword;charset=utf8mb4;Allow User Variables=true;AllowLoadLocalInfile=true&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="配置不同租户的数据库连接" tabindex="-1">配置不同租户的数据库连接 <a class="header-anchor" href="#配置不同租户的数据库连接" aria-label="Permalink to &quot;配置不同租户的数据库连接&quot;">​</a></h2><ul><li>在租户管理的数据库连接字符串管理中配置</li><li>这个要事先把表结构生成</li></ul><h2 id="如何修改表前缀" tabindex="-1">如何修改表前缀 <a class="header-anchor" href="#如何修改表前缀" aria-label="Permalink to &quot;如何修改表前缀&quot;">​</a></h2><ul><li>LanguageManagementDbProperties.DbTablePrefix <ul><li>重新指定即可</li></ul></li></ul><div class="language-csharp vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">csharp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> LanguageManagementDbProperties</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DbTablePrefix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Abp&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DbSchema</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ConnectionStringName</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;LanguageManagement&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="warning custom-block"><p class="custom-block-title">数据库连接</p><p>如果没有指定LanguageManagement数据连接名称,都会使用<strong>Default</strong>的数据库连接.</p></div><h2 id="表结构说明" tabindex="-1">表结构说明 <a class="header-anchor" href="#表结构说明" aria-label="Permalink to &quot;表结构说明&quot;">​</a></h2><p><strong>Language</strong> 表结构：</p><table tabindex="0"><thead><tr><th style="text-align:left;">字段名</th><th style="text-align:left;">描述</th><th style="text-align:left;">类型</th></tr></thead><tbody><tr><td style="text-align:left;">Id</td><td style="text-align:left;">Id</td><td style="text-align:left;">Guid</td></tr><tr><td style="text-align:left;">TenantId</td><td style="text-align:left;">租户 id</td><td style="text-align:left;">Guid?</td></tr><tr><td style="text-align:left;">CultureName</td><td style="text-align:left;">语言名称</td><td style="text-align:left;">string</td></tr><tr><td style="text-align:left;">UiCultureName</td><td style="text-align:left;">Ui语言名称</td><td style="text-align:left;">string</td></tr><tr><td style="text-align:left;">DisplayName</td><td style="text-align:left;">显示名称</td><td style="text-align:left;">string</td></tr><tr><td style="text-align:left;">FlagIcon</td><td style="text-align:left;">图标</td><td style="text-align:left;">string</td></tr><tr><td style="text-align:left;">IsEnabled</td><td style="text-align:left;">是否启用</td><td style="text-align:left;">bool</td></tr><tr><td style="text-align:left;">IsDefault</td><td style="text-align:left;">是否默认语言</td><td style="text-align:left;">bool</td></tr><tr><td style="text-align:left;">IsDeleted</td><td style="text-align:left;">是否删除</td><td style="text-align:left;">bool</td></tr><tr><td style="text-align:left;">DeleterId</td><td style="text-align:left;">删除人</td><td style="text-align:left;">Guid?</td></tr><tr><td style="text-align:left;">DeletionTime</td><td style="text-align:left;">删除时间</td><td style="text-align:left;">DateTime</td></tr><tr><td style="text-align:left;">LastModifierId</td><td style="text-align:left;">最后修改人</td><td style="text-align:left;">Guid?</td></tr><tr><td style="text-align:left;">LastModificationTime</td><td style="text-align:left;">最后修改时间</td><td style="text-align:left;">DateTime</td></tr><tr><td style="text-align:left;">CreatorId</td><td style="text-align:left;">创建人</td><td style="text-align:left;">Guid?</td></tr><tr><td style="text-align:left;">CreationTime</td><td style="text-align:left;">创建时间</td><td style="text-align:left;">DateTime</td></tr></tbody></table><p><strong>LanguageText</strong> 表结构：</p><table tabindex="0"><thead><tr><th style="text-align:left;">字段名</th><th style="text-align:left;">描述</th><th style="text-align:left;">类型</th></tr></thead><tbody><tr><td style="text-align:left;">Id</td><td style="text-align:left;">Id</td><td style="text-align:left;">Guid</td></tr><tr><td style="text-align:left;">CultureName</td><td style="text-align:left;">语言名称</td><td style="text-align:left;">string</td></tr><tr><td style="text-align:left;">ResourceName</td><td style="text-align:left;">资源名称</td><td style="text-align:left;">string</td></tr><tr><td style="text-align:left;">Name</td><td style="text-align:left;">名称</td><td style="text-align:left;">string</td></tr><tr><td style="text-align:left;">Value</td><td style="text-align:left;">Value</td><td style="text-align:left;">string</td></tr><tr><td style="text-align:left;">IsDeleted</td><td style="text-align:left;">是否删除</td><td style="text-align:left;">bool</td></tr><tr><td style="text-align:left;">DeleterId</td><td style="text-align:left;">删除人</td><td style="text-align:left;">Guid?</td></tr><tr><td style="text-align:left;">DeletionTime</td><td style="text-align:left;">删除时间</td><td style="text-align:left;">DateTime</td></tr><tr><td style="text-align:left;">LastModifierId</td><td style="text-align:left;">最后修改人</td><td style="text-align:left;">Guid?</td></tr><tr><td style="text-align:left;">LastModificationTime</td><td style="text-align:left;">最后修改时间</td><td style="text-align:left;">DateTime</td></tr><tr><td style="text-align:left;">CreatorId</td><td style="text-align:left;">创建人</td><td style="text-align:left;">Guid?</td></tr><tr><td style="text-align:left;">CreationTime</td><td style="text-align:left;">创建时间</td><td style="text-align:left;">DateTime</td></tr></tbody></table>`,19)]))}const u=e(s,[["render",n]]);export{k as __pageData,u as default};
