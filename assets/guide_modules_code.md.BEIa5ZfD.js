import{_ as i,c as s,o as e,ak as l}from"./chunks/framework.Be0JZvgR.js";const c=JSON.parse('{"title":"代码生成器模块","description":"","frontmatter":{},"headers":[],"relativePath":"guide/modules/code.md","filePath":"guide/modules/code.md","lastUpdated":1741232865000}'),n={name:"guide/modules/code.md"};function t(p,a,r,h,o,k){return e(),s("div",null,a[0]||(a[0]=[l(`<h1 id="代码生成器模块" tabindex="-1">代码生成器模块 <a class="header-anchor" href="#代码生成器模块" aria-label="Permalink to &quot;代码生成器模块&quot;">​</a></h1><div class="tip custom-block"><p class="custom-block-title">注意</p><ul><li>当前模块需要付费使用,需要找作者购买源码(购买vben5版本即可)</li><li>联系方式: <a href="mailto:510423039@qq.com" target="_blank" rel="noreferrer">510423039@qq.com</a></li><li>微信号：WJLXRzzZ</li></ul></div><ul><li><a href="https://github.com/abp-vnext-pro/abp-vnext-pro-framework/tree/main/modules/CodeManagement" target="_blank" rel="noreferrer">Github仓库地址</a></li></ul><h2 id="如何集成" tabindex="-1">如何集成 <a class="header-anchor" href="#如何集成" aria-label="Permalink to &quot;如何集成&quot;">​</a></h2><h3 id="后端" tabindex="-1">后端 <a class="header-anchor" href="#后端" aria-label="Permalink to &quot;后端&quot;">​</a></h3><ul><li>在example分支有集成示例： <a href="https://github.com/WangJunZzz/abp-vnext-pro/tree/example" target="_blank" rel="noreferrer">Github-example仓库地址</a></li></ul><ol><li>在对应的层添加对应的引用</li><li>添加 DependsOn(typeof(CodeManagementXxxModule)) 特性到对应模块 <ul><li>Lion.AbpPro.CodeManagement.Application</li><li>Lion.AbpPro.CodeManagement.Application.Contracts</li><li>Lion.AbpPro.CodeManagement.Domain</li><li>Lion.AbpPro.CodeManagement.Domain.Shared</li><li>Lion.AbpPro.CodeManagement.EntityFrameworkCore</li><li>Lion.AbpPro.CodeManagement.HttpApi</li><li>Lion.AbpPro.CodeManagement.HttpApi.Client</li></ul></li><li>在自己的dbcontext中实现接口：ICodeManagementDbContext</li><li>在 EntityFrameworkCore 层添加数据库配置在 AbpProDbContext.cs 的 OnModelCreating()方法中添加 builder.ConfigureCodeManagement();</li><li>执行ef迁移</li></ol><h3 id="前端" tabindex="-1">前端 <a class="header-anchor" href="#前端" aria-label="Permalink to &quot;前端&quot;">​</a></h3><ul><li>在example分支有集成示例： <a href="https://github.com/abp-vnext-pro/abp-vnext-pro-vben5/tree/example" target="_blank" rel="noreferrer">Github-example仓库地址</a></li></ul><ol><li>新建vben5项目之后，查看以上example仓库地址代码</li><li>目前只支持antd的前端</li><li>把example分支下的apps/web-antd/src/locales/zh-CN/code.json 拷贝到您的项目同级目录下</li><li>把example分支下的apps/web-antd/src/locales/en-US/code.json 拷贝到您的项目同级目录下</li><li>把example分支下的apps/web-antd/src/router/routes/modules/code.ts 拷贝到您的项目同级目录下</li><li>把example分支下的apps/web-antd/src/views/textTemplate 拷贝到您的项目同级目录下</li><li>启动后端,执行npm run nswag 刷新接口代理(记得把刷代理的接口json改成你本地启动的项目地址)</li><li>启动前端npm run dev 就可以看到代码生成器的ui界面</li></ol><h2 id="如何配置单独数据库" tabindex="-1">如何配置单独数据库 <a class="header-anchor" href="#如何配置单独数据库" aria-label="Permalink to &quot;如何配置单独数据库&quot;">​</a></h2><ul><li>数据库连接名称：CodeManagement</li><li>在appsetting.json下配置</li></ul><div class="language-json vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;ConnectionStrings&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;Default&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Data Source=localhost;Database=LionAbpProDB;uid=root;pwd=mypassword;charset=utf8mb4;Allow User Variables=true;AllowLoadLocalInfile=true&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;CodeManagement&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Data Source=localhost;Database=CodeManagement;uid=root;pwd=mypassword;charset=utf8mb4;Allow User Variables=true;AllowLoadLocalInfile=true&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="配置不同租户的数据库连接" tabindex="-1">配置不同租户的数据库连接 <a class="header-anchor" href="#配置不同租户的数据库连接" aria-label="Permalink to &quot;配置不同租户的数据库连接&quot;">​</a></h2><ul><li>在租户管理的数据库连接字符串管理中配置</li><li>这个要事先把表结构生成</li></ul><h2 id="如何修改表前缀" tabindex="-1">如何修改表前缀 <a class="header-anchor" href="#如何修改表前缀" aria-label="Permalink to &quot;如何修改表前缀&quot;">​</a></h2><ul><li>CodeManagementDbProperties.DbTablePrefix <ul><li>重新指定即可</li></ul></li></ul><div class="language-csharp vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">csharp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> CodeManagementDbProperties</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DbTablePrefix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Abp&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> DbSchema</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> string</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ConnectionStringName</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;CodeManagement&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="warning custom-block"><p class="custom-block-title">数据库连接</p><p>如果没有指定CodeManagement数据连接名称,都会使用<strong>Default</strong>的数据库连接.</p></div>`,19)]))}const u=i(n,[["render",t]]);export{c as __pageData,u as default};
